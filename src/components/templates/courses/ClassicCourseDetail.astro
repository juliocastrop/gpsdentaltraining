---
/**
 * Classic Course Detail Template
 * Redesigned to match the production WordPress site (gpsdentaltraining.com).
 * Layout: Hero with featured image → 2-col (description + ticket sidebar) →
 * Full-width sections (Speaker, Objectives, Contact, Agenda, Sponsors) → Footer.
 *
 * All props, data structures, and components remain unchanged.
 */
import Navbar from '../../layout/Navbar';
import Footer from '../../layout/Footer';
import CountdownTimer from '../../events/CountdownTimer';
import TicketSelector from '../../tickets/TicketSelector';
import WaitlistForm from '../../tickets/WaitlistForm';
import AddToCalendar from '../../events/AddToCalendar';
import EventGallery from '../../events/EventGallery';
import type { Speaker } from '../../../types/database';

interface MigratedScheduleTopic {
  name: string;
  start_time: string;
  end_time: string;
  speakers: number[];
  location: string;
  description: string;
}

interface MigratedSchedule {
  date: string;
  tab_label: string;
  topics: MigratedScheduleTopic[];
}

interface Props {
  event: any;
  availability: any;
  siteSettings: {
    logo_url: string;
    logo_white_url: string;
    favicon_url: string;
    company_name: string;
  };
  cleanTitle: string;
  cleanDescription: string | null;
  dateDisplay: string;
  learningObjectives: string[];
  migratedSchedules: MigratedSchedule[];
  isUpcoming: boolean;
  isSoldOut: boolean;
  dayCount: number;
  url: URL;
}

const {
  event,
  availability,
  siteSettings,
  cleanTitle,
  cleanDescription,
  dateDisplay,
  learningObjectives,
  migratedSchedules,
  isUpcoming,
  isSoldOut,
  dayCount,
  url,
} = Astro.props;

// Helper functions
function formatScheduleDate(dateStr: string): string {
  if (!dateStr) return '';
  return new Date(dateStr).toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
}

function formatTimeRange(startTime: string, endTime: string): string {
  if (!startTime) return '';
  const formatTime = (time: string) => {
    const [hours, minutes] = time.split(':');
    const h = parseInt(hours);
    const ampm = h >= 12 ? 'PM' : 'AM';
    const h12 = h % 12 || 12;
    return `${h12}:${minutes} ${ampm}`;
  };
  if (endTime) {
    return `${formatTime(startTime)}  -  ${formatTime(endTime)}`;
  }
  return formatTime(startTime);
}

function cleanHtmlDescription(html: string | null | undefined): string {
  if (!html) return '';
  let text = html.replace(/<[^>]*>/g, '');
  text = text
    .replace(/&amp;/g, '&')
    .replace(/&lt;/g, '<')
    .replace(/&gt;/g, '>')
    .replace(/&quot;/g, '"')
    .replace(/&#39;/g, "'")
    .replace(/&nbsp;/g, ' ');
  return text.trim();
}

// Sponsors: use event.sponsors if available, otherwise fallback
const sponsors = event.sponsors && event.sponsors.length > 0
  ? event.sponsors
  : null;

// Google Maps embed URL
const mapAddress = event.address || event.venue || '6320 Sugarloaf Parkway, Duluth, GA 30097';
const mapEmbedUrl = `https://www.google.com/maps?q=${encodeURIComponent(mapAddress)}&output=embed`;
---

<!-- Navigation -->
<Navbar
  logo={siteSettings.logo_url}
  logoWhite={siteSettings.logo_white_url}
  transparent={true}
  client:load
/>

<!-- Hero Section: Featured Image Background -->
<section class="classic-hero relative min-h-[480px] md:min-h-[540px] flex items-end overflow-hidden">
  {/* Background Image */}
  {event.featured_image_url ? (
    <div class="absolute inset-0">
      <img
        src={event.featured_image_url}
        alt={cleanTitle}
        class="w-full h-full object-cover"
      />
      <div class="absolute inset-0 bg-gradient-to-t from-[#0C2044]/90 via-[#0C2044]/60 to-[#0C2044]/30"></div>
    </div>
  ) : (
    <div class="absolute inset-0 bg-gradient-to-br from-[#0C2044] to-[#173D84]"></div>
  )}

  <div class="container mx-auto px-4 lg:px-8 max-w-7xl relative z-10 pb-12 pt-32 md:pt-40">
    {/* Badges row */}
    <div class="flex flex-wrap items-center gap-3 mb-6">
      <span class="inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-4 py-1.5 rounded-full text-sm font-medium border border-white/20">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
        </svg>
        {dateDisplay}
      </span>
      {event.ce_credits > 0 && (
        <span class="inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-4 py-1.5 rounded-full text-sm font-medium border border-white/20">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"/>
          </svg>
          CE Credits {event.ce_credits}
        </span>
      )}
      {isSoldOut && (
        <span class="inline-flex items-center gap-2 bg-red-600 text-white px-4 py-1.5 rounded-full text-sm font-bold animate-pulse">
          SOLD OUT
        </span>
      )}
    </div>

    {/* Title */}
    <h1 class="text-3xl md:text-4xl lg:text-5xl font-extrabold text-white mb-8 leading-tight font-heading max-w-4xl">
      {cleanTitle}
    </h1>

    {/* Action Buttons */}
    <div class="flex flex-wrap items-center gap-3">
      {isSoldOut ? (
        <a href="#waitlist" class="inline-flex items-center gap-2 bg-[#DDC89D] text-[#0C2044] px-6 py-3 rounded-full font-bold text-sm hover:bg-[#c9b586] transition-colors">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
          </svg>
          Join the waiting list
        </a>
      ) : (
        <a href="#tickets" class="inline-flex items-center gap-2 bg-[#DDC89D] text-[#0C2044] px-6 py-3 rounded-full font-bold text-sm hover:bg-[#c9b586] transition-colors">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"/>
          </svg>
          Get Tickets
        </a>
      )}
      <button
        onclick={`navigator.share ? navigator.share({title: '${cleanTitle.replace(/'/g, "\\'")}', url: '${url}'}) : navigator.clipboard.writeText('${url}').then(() => alert('Link copied!'))`}
        class="inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-6 py-3 rounded-full font-bold text-sm border border-white/30 hover:bg-white/30 transition-colors"
      >
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"/>
        </svg>
        Share This Course
      </button>
      <AddToCalendar
        title={cleanTitle}
        description={event.excerpt || ''}
        location={event.venue || ''}
        startDate={event.start_date}
        endDate={event.end_date || ''}
        url={url.toString()}
        variant="icon"
        client:load
      />
    </div>
  </div>
</section>

<!-- Main Content: 2-Column Grid (Description + Sidebar) -->
<section class="bg-white py-12 lg:py-16">
  <div class="container mx-auto px-4 lg:px-8 max-w-7xl">
    <div class="grid grid-cols-1 lg:grid-cols-5 gap-10 lg:gap-14">

      {/* Left Column: Countdown + Description */}
      <div class="lg:col-span-3">

        {/* Countdown Timer */}
        {isUpcoming && (
          <div class="mb-10 bg-gradient-to-br from-[#0C2044] to-[#173D84] rounded-2xl p-6 md:p-8">
            <h2 class="text-white/70 text-sm uppercase tracking-[0.15em] font-medium mb-5 text-center">This event will start in</h2>
            <CountdownTimer targetDate={event.start_date} client:load />
            <div class="text-center mt-5">
              <p class="text-white/60 text-sm">
                <span class="text-[#DDC89D] font-semibold">{dateDisplay}</span>
                {event.venue && <span class="mx-2">&bull;</span>}
                {event.venue && <span>{event.venue}</span>}
              </p>
            </div>
          </div>
        )}

        {/* Course Description */}
        {cleanDescription && (
          <div>
            <div class="mb-8">
              <h2 class="text-3xl md:text-4xl font-extrabold text-[#0C2044] font-heading">
                Course Description
              </h2>
              <div class="w-16 h-1 bg-[#26ACF5] mt-4 rounded-full"></div>
            </div>
            <div class="classic-description-content text-gray-700 leading-relaxed text-base" set:html={cleanDescription} />
          </div>
        )}

        {/* Gallery */}
        {event.gallery_images && event.gallery_images.length > 0 && (
          <div class="mt-10">
            <div class="mb-8">
              <h2 class="text-3xl md:text-4xl font-extrabold text-[#0C2044] font-heading">
                Gallery
              </h2>
              <div class="w-16 h-1 bg-[#26ACF5] mt-4 rounded-full"></div>
            </div>
            <EventGallery
              images={event.gallery_images}
              title={cleanTitle}
              columns={2}
              client:load
            />
          </div>
        )}
      </div>

      {/* Right Column: Sticky Ticket/Waitlist Card */}
      <div class="lg:col-span-2" id="tickets">
        <div class="sticky top-24 space-y-5" id="waitlist">

          {/* Ticket Card */}
          <div class="bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden">
            {/* Card Header */}
            <div class="p-6 border-b border-gray-100">
              <h3 class="text-lg font-bold text-[#0C2044] leading-snug mb-1">
                {cleanTitle}
              </h3>
              {availability.tickets && availability.tickets.length > 0 && (
                <div class="flex items-center gap-2 mt-2">
                  {availability.tickets.some((t: any) => t.name?.toLowerCase().includes('early')) && (
                    <span class="text-xs font-semibold bg-[#0B52AC] text-white px-2.5 py-0.5 rounded">Early Bird</span>
                  )}
                </div>
              )}
            </div>

            {/* Ticket Selector or Waitlist */}
            <div class="p-6">
              {availability.is_available ? (
                <TicketSelector eventId={event.id} eventTitle={event.title} client:load />
              ) : (
                <div>
                  {isSoldOut && (
                    <div class="mb-4">
                      <p class="text-red-600 font-bold text-sm mb-1">This course is currently sold out.</p>
                      <p class="text-gray-500 text-sm">Join our waitlist to be notified if spots become available.</p>
                    </div>
                  )}
                  <WaitlistForm eventId={event.id} eventTitle={event.title} client:load />
                </div>
              )}
            </div>
          </div>

          {/* Have Questions Card */}
          <div class="bg-[#0C2044] rounded-2xl p-5 text-white">
            <h3 class="font-bold text-white mb-2 text-sm">Have Questions?</h3>
            <p class="text-white/70 text-sm mb-4">We're here to help with registration, logistics, or course content.</p>
            <a
              href="mailto:gpsdentaltraining@gaprostho.com"
              class="inline-flex items-center gap-2 text-[#DDC89D] text-sm font-semibold hover:gap-3 transition-all"
            >
              Contact Us
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
            </a>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- Speaker Section: Full Width -->
{event.speakers && event.speakers.length > 0 && (
  <section class="bg-[#F8F9FA] py-14 lg:py-20">
    <div class="container mx-auto px-4 lg:px-8 max-w-7xl">
      {/* Section Title */}
      <div class="mb-12">
        <h2 class="text-3xl md:text-4xl font-extrabold text-[#0C2044] font-heading">
          {event.speakers.length > 1 ? 'Speakers' : 'Speaker'}
        </h2>
        <div class="w-16 h-1 bg-[#26ACF5] mt-4 rounded-full"></div>
      </div>

      {/* Speaker Cards */}
      <div class="space-y-16">
        {event.speakers.map((speaker: Speaker) => (
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12 items-start">
            {/* Bio - Left */}
            <div class="md:col-span-2 order-2 md:order-1">
              {speaker.bio ? (
                <div class="classic-description-content text-gray-700 leading-relaxed text-base" set:html={speaker.bio} />
              ) : (
                <p class="text-gray-500 italic">Speaker biography coming soon.</p>
              )}
            </div>

            {/* Photo + Name - Right */}
            <div class="flex flex-col items-center text-center order-1 md:order-2">
              {speaker.photo_url ? (
                <img
                  src={speaker.photo_url}
                  alt={speaker.name.replace('[TEST] ', '')}
                  class="w-40 h-40 md:w-48 md:h-48 rounded-full object-cover object-top border-4 border-[#26ACF5] bg-gray-100 mb-4"
                />
              ) : (
                <div class="w-40 h-40 md:w-48 md:h-48 rounded-full bg-gradient-to-br from-[#173D84] to-[#0C2044] flex items-center justify-center border-4 border-[#26ACF5] mb-4">
                  <span class="text-4xl font-bold text-white">
                    {speaker.name.replace('[TEST] ', '').split(' ').map((n: string) => n[0]).join('').substring(0, 2)}
                  </span>
                </div>
              )}
              <h3 class="text-xl font-bold text-[#0C2044]">{speaker.name.replace('[TEST] ', '')}</h3>
              {speaker.title && (
                <p class="text-sm text-[#26ACF5] font-medium mt-1 max-w-[250px]">{speaker.title}</p>
              )}
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>
)}

<!-- Course Objectives Section: Full Width -->
{learningObjectives && learningObjectives.length > 0 && (
  <section class="bg-white py-14 lg:py-20">
    <div class="container mx-auto px-4 lg:px-8 max-w-7xl">
      {/* Section Title */}
      <div class="mb-10">
        <h2 class="text-3xl md:text-4xl font-extrabold text-[#0C2044] font-heading">
          Course Objectives
        </h2>
        <div class="w-16 h-1 bg-[#26ACF5] mt-4 rounded-full"></div>
      </div>

      <ul class="space-y-4 max-w-4xl">
        {learningObjectives.map((objective: string) => (
          <li class="flex items-start gap-3">
            <span class="flex-shrink-0 mt-1.5">
              <svg class="w-5 h-5 text-[#26ACF5]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M9 12l2 2 4-4" />
                <circle cx="12" cy="12" r="10" stroke-width="2" />
              </svg>
            </span>
            <span class="text-gray-700 leading-relaxed">{objective}</span>
          </li>
        ))}
      </ul>
    </div>
  </section>
)}

<!-- Contact Information Section: Navy Background -->
<section class="bg-[#0C2044] py-14 lg:py-20">
  <div class="container mx-auto px-4 lg:px-8 max-w-7xl">
    {/* Section Title */}
    <div class="mb-10">
      <h2 class="text-3xl md:text-4xl font-extrabold text-white font-heading">
        Contact<br/>Information
      </h2>
      <div class="w-16 h-1 bg-[#26ACF5] mt-4 rounded-full"></div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 items-center">
      {/* Left: Contact Details */}
      <div class="space-y-5">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center flex-shrink-0">
            <svg class="w-5 h-5 text-[#DDC89D]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
            </svg>
          </div>
          <a href="mailto:gpsdentaltraining@gaprostho.com" class="text-white hover:text-[#DDC89D] transition-colors">
            gpsdentaltraining@gaprostho.com
          </a>
        </div>

        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center flex-shrink-0">
            <svg class="w-5 h-5 text-[#DDC89D]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
            </svg>
          </div>
          <span class="text-white">6320 Sugarloaf Parkway, Duluth, GA 30097</span>
        </div>

        <div class="pt-4">
          <a
            href={`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(mapAddress)}`}
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-2 border border-white/30 text-white px-5 py-2.5 rounded-full text-sm font-semibold hover:bg-white/10 transition-colors"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
            </svg>
            Download Vcard
          </a>
        </div>
      </div>

      {/* Right: Google Map */}
      <div class="rounded-xl overflow-hidden h-[300px] lg:h-full min-h-[280px]">
        <iframe
          src={mapEmbedUrl}
          width="100%"
          height="100%"
          style="border:0;"
          allowfullscreen
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          title="Event Location"
          class="w-full h-full"
        ></iframe>
      </div>
    </div>
  </div>
</section>

<!-- Agenda Section: Full Width, Centered -->
{migratedSchedules.length > 0 && (
  <section class="bg-white py-14 lg:py-20">
    <div class="container mx-auto px-4 lg:px-8 max-w-5xl">
      {/* Section Title - Centered */}
      <div class="text-center mb-10">
        <h2 class="text-3xl md:text-4xl font-extrabold text-[#0C2044] font-heading">
          Agenda
        </h2>
        <div class="w-16 h-1 bg-[#26ACF5] mt-4 mx-auto rounded-full"></div>
      </div>

      {/* Day Tabs (if multiple days) */}
      {migratedSchedules.length > 1 && (
        <div class="flex justify-center gap-3 mb-10">
          {migratedSchedules.map((schedule, dayIndex) => {
            const dayLabel = schedule.tab_label || `Day ${dayIndex + 1}`;
            const dayDate = schedule.date ? formatScheduleDate(schedule.date) : '';
            return (
              <button
                class={`classic-day-tab px-6 py-3 rounded-lg font-bold text-sm transition-all ${dayIndex === 0 ? 'bg-[#0B52AC] text-white' : 'bg-[#0C2044] text-white hover:bg-[#173D84]'}`}
                data-day-index={dayIndex}
              >
                <span class="block">{dayLabel}</span>
                {dayDate && <span class="block text-xs font-normal opacity-80 mt-0.5">{dayDate}</span>}
              </button>
            );
          })}
        </div>
      )}

      {/* Schedule Content */}
      {migratedSchedules.map((schedule, dayIndex) => (
        <div
          class={`classic-day-content space-y-4 ${dayIndex > 0 ? 'hidden' : ''}`}
          data-day-content={dayIndex}
        >
          {schedule.topics.map((topic) => (
            <div class="flex items-center gap-5 border border-gray-200 rounded-xl px-5 py-4 bg-white hover:shadow-sm transition-shadow">
              {/* Time Pill */}
              <div class="flex-shrink-0">
                <div class="bg-[#0C2044] text-white px-4 py-2.5 rounded-lg text-sm font-bold whitespace-nowrap min-w-[160px] text-center">
                  {formatTimeRange(topic.start_time, topic.end_time)}
                </div>
              </div>

              {/* Topic Name */}
              <div class="flex-1">
                <h4 class="font-semibold text-[#0C2044] text-base">
                  {topic.name}
                </h4>
                {topic.description && (
                  <p class="text-gray-500 text-sm mt-1">{cleanHtmlDescription(topic.description)}</p>
                )}
              </div>
            </div>
          ))}
        </div>
      ))}
    </div>
  </section>
)}

<!-- Our Sponsors Section -->
{sponsors && sponsors.length > 0 ? (
  <section class="bg-white py-14 lg:py-20 border-t border-gray-100">
    <div class="container mx-auto px-4 lg:px-8 max-w-5xl">
      <div class="text-center mb-10">
        <h2 class="text-3xl md:text-4xl font-extrabold text-[#0C2044] font-heading">
          Our Sponsors
        </h2>
        <div class="w-16 h-1 bg-[#26ACF5] mt-4 mx-auto rounded-full"></div>
      </div>

      <div class="flex flex-wrap items-center justify-center gap-10 md:gap-16">
        {sponsors.map((sponsor: any) => (
          <div class="flex items-center justify-center">
            {sponsor.website_url ? (
              <a href={sponsor.website_url} target="_blank" rel="noopener noreferrer" class="opacity-80 hover:opacity-100 transition-opacity">
                <img
                  src={sponsor.logo_url}
                  alt={sponsor.name}
                  class="h-16 md:h-20 object-contain max-w-[200px]"
                />
              </a>
            ) : (
              <img
                src={sponsor.logo_url}
                alt={sponsor.name}
                class="h-16 md:h-20 object-contain max-w-[200px] opacity-80"
              />
            )}
          </div>
        ))}
      </div>
    </div>
  </section>
) : (
  <!-- Default sponsors if none set on event -->
  <section class="bg-white py-14 lg:py-20 border-t border-gray-100">
    <div class="container mx-auto px-4 lg:px-8 max-w-5xl">
      <div class="text-center mb-10">
        <h2 class="text-3xl md:text-4xl font-extrabold text-[#0C2044] font-heading">
          Our Sponsors
        </h2>
        <div class="w-16 h-1 bg-[#26ACF5] mt-4 mx-auto rounded-full"></div>
      </div>

      <div class="flex flex-wrap items-center justify-center gap-10 md:gap-16">
        <img src="/pace-logo.png" alt="PACE - Program Approval for Continuing Education" class="h-16 md:h-20 object-contain opacity-80" />
        <img src="/logo.svg" alt="GPS Dental Training" class="h-16 md:h-20 object-contain opacity-80" />
      </div>
    </div>
  </section>
)}

<!-- Footer -->
<Footer client:load />

<!-- Day Tab Switching Script -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const tabs = document.querySelectorAll('.classic-day-tab');
    const contents = document.querySelectorAll('.classic-day-content');

    tabs.forEach((tab) => {
      tab.addEventListener('click', () => {
        const dayIndex = tab.getAttribute('data-day-index');

        // Update tab styles
        tabs.forEach((t) => {
          t.classList.remove('bg-[#0B52AC]');
          t.classList.add('bg-[#0C2044]');
        });
        tab.classList.remove('bg-[#0C2044]');
        tab.classList.add('bg-[#0B52AC]');

        // Show/hide content
        contents.forEach((content) => {
          if (content.getAttribute('data-day-content') === dayIndex) {
            content.classList.remove('hidden');
          } else {
            content.classList.add('hidden');
          }
        });
      });
    });
  });
</script>

<!-- Classic Template Styles -->
<style>
  .classic-hero {
    min-height: 480px;
  }

  /* Description content styling */
  .classic-description-content p {
    margin-bottom: 1em;
  }
  .classic-description-content p:last-child {
    margin-bottom: 0;
  }
  .classic-description-content ul,
  .classic-description-content ol {
    margin-bottom: 1em;
    padding-left: 1.5em;
  }
  .classic-description-content li {
    margin-bottom: 0.25em;
  }
  .classic-description-content strong,
  .classic-description-content b {
    color: #0C2044;
  }
  .classic-description-content a {
    color: #0B52AC;
    text-decoration: underline;
  }
  .classic-description-content a:hover {
    color: #0C2044;
  }

  /* Section title with line break styling */
  .classic-section-title {
    line-height: 1.15;
  }
</style>
